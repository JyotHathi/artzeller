<!-- <div class="title-with-button">
  <h2 class="custom-page-header">{{ _title }}</h2>
</div>
<p class="custom-page-desc">{{ _pageDescription }}</p> -->

<form [formGroup]="form">
  <div class="form-group">
    <span class="form-label"> Script</span>
    <textarea
      nbInput
      formControlName="script"
      placeholder="Add your script here..."
      class="script-input"
      style="max-width: 100%"
      [disabled]="_btnLoading"
    ></textarea>
    <span
      class="error-message"
      *ngIf="form?.get('script')?.hasError('maxlength') && !_isAdmin"
    >
      Script must be less than 512 characters.
    </span>
    <span
      class="error-message"
      *ngIf="form?.get('script')?.hasError('maxlength') && _isAdmin"
    >
      Script must be less than 2048 characters.
    </span>
  </div>
  <!-- ONLY VISIBLE THIS PART  IF THE LOGGED_IN USER IS ADMIN --->
  <div class="form-column-no-bg" *ngIf="_isAdmin">
    <div class="form-group col-50">
      <label for="variation" class="form-label">Variation</label>
      <input
        nbInput
        type="text"
        id="variation"
        formControlName="variation"
        value="1"
      />
      <p
        *ngIf="
          form?.get('variation')?.invalid && form?.get('variation')?.touched
        "
        class="error-message"
      >
        Variation is required and must be less than 256 characters.
      </p>
    </div>
    <div class="form-group col-50">
      <label for="debug" class="form-label">Debug</label>
      <input
        nbInput
        type="text"
        id="debug"
        formControlName="debug"
        value="true"
      />
      <p
        *ngIf="form?.get('debug')?.invalid && form?.get('debug')?.touched"
        class="error-message"
      >
        Debug is required and must be less than 256 characters.
      </p>
    </div>
  </div>
</form>

<div class="form-footer">
  <button
    [nbSpinner]="_btnLoading"
    nbSpinnerStatus="info"
    class="custom-primary-button"
    nbButton
    (click)="onSubmit()"
    type="button"
    [disabled]="form.invalid"
  >
    Create Now!
  </button>
</div>
